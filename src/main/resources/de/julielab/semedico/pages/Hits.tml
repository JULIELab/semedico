<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns:t="http://tapestry.apache.org/schema/tapestry_5_0_0.xsd" xmlns="http://www.w3.org/1999/xhtml">
   <head>
        <title>Semedico - search PubMed</title>
         <link href="css/styles.css" rel="stylesheet" type="text/css"/>
         <style type="text/css">@import url(css/layout_hitlist.css) all;</style>
		 <style type="text/css">@import url(css/facets.css) all;</style>
    </head>

	<body>
		<!--[if IE 7]>
			<link href="css/layout_hitlist.css" rel="stylesheet" type="text/css"/>
			<link href="css/facets.css" rel="stylesheet" type="text/css"/>
			<link href="css/ie_hacks.css" rel="stylesheet" type="text/css"/>	
  		<![endif]-->
		<!--[if lte IE 6]>
			<link href="css/layout_hitlist_ie6.css" rel="stylesheet" type="text/css">	
			<link href="css/facets_ie6.css" rel="stylesheet" type="text/css">
		<![endif]-->

	<div id="top">
		<t:form t:id="search">
			<div id="logoContainer">
				<t:pagelink page="Index"><img border="0" src="images/logo_small.png" width="250" height="66" id="logo"/></t:pagelink>
			</div>
 			<div id="searchPanelDiv">
 				<div id="searchInputDiv"><t:textfield value="query" maxlength="56" type="text" autocomplete="off" query="query" termText="query" clickedTermId="termId" t:mixins="FacetSuggestionHitAutocomplete" t:id="searchInputField"/>
	 		<div id="searchPanelDescription">Select a term to search for synonyms and related terms. Press ESC to ignore suggestions.</div>
  			</div>
  				<div id="searchButtonDiv"><input type="image" src="images/btn_search.png"/></div>
  				</div>		   		
		</t:form>
	</div>
	<div id="resultBar">
		<div id="resultPanel">Result ${indexOfFirstArticle}-${displayGroup.indexOfLastDisplayedObject} of ${facettedSearchResult.totalHits} (${elapsedTime} ms)</div>
	</div>
 	
<div id="container">
<div id="facetBar">
<t:facetbox id="prop:proteinFacetConfiguration.facet.cssId" facetHit="proteinFacetHit" facetConfiguration="proteinFacetConfiguration" selectedTerm="selectedTerm" documents="searchResult.documents"></t:facetbox>
<!-- 	
  <span jwcid="@If" condition="ognl:searchContext.hasHits()">
  	<ul jwcid="@ContextTabs" id="tabHeader" selectedTab="ognl:selectedTab">
	  <li id="firstTabHeader" class="firstTabActive">      	        	
	            <a href="javascript:Tabs.activateFirstTab();">BioMed</a>                    	
      </li>	
	  <li id="secondTabHeader" class="secondTabInActive">
	            <a href="javascript:Tabs.activateSecondTab();">Immunology</a>
      </li>	  
	  <li id="thirdTabHeader" class="thirdTabInActive">
	            <a href="javascript:Tabs.activateThirdTab();">Bibliography</a>
      </li>	  
	</ul>
    <div jwcid="@Any" id="firstTabContainer" style="ognl:'display:' + (selectedTab == 'firstTab'? 'block':'none')">
	 <ul jwcid="firstTab@Sortable" orderedFacets="ognl:searchContext.firstTabFacetOrder">
		<li class="boxes" jwcid="proteins@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('proteins')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="cdAntigens@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('cdAntigens')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="chemicals@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('chemicals')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="organisms@FacetBox" viewModeSwitchable="ognl:false" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('organisms')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="geneExression@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('geneExression')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="cellularProcesses@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('cellularProcesses')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>		    
		<li class="boxes" jwcid="techniques@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('techniques')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>		    
		<li class="boxes" jwcid="diseases@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('diseases')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>		    
		<li class="boxes" jwcid="signs@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('signs')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="therapies@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('therapies')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>		    		    		     
	</ul>
	
	   <div class="tabFooter">
   		 <div class="tabFooterLeft"><img src="images/ico_configure.png" alt="Configure" width="15" height="15" /></div>
         <div class="tabFooterRight"><a jwcid="@DirectLink" listener="listener:showBioMedConfigureDialog" href="javascript:semanticContext.showAll();">configure...</a></div>
      </div>
   </div>
   
   <div id="secondTabContainer" jwcid="@Any" style="ognl:'display:' + (selectedTab == 'secondTab'? 'block':'none')">
	<ul jwcid="secondTab@Sortable" orderedFacets="ognl:searchContext.secondTabFacetOrder">
		<li class="boxes" jwcid="antibodies@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('antibodies')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="mha@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('mha')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="progenitors@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('progenitors')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="bloodCells@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('bloodCells')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="epitopes@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('epitopes')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="immunity@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('immunity')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="transplantation@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('transplantation')" 
		    label="ognl:selectedLabel" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>	
	</ul>
      <div class="tabFooter">
   		 <div class="tabFooterLeft"><img src="images/ico_configure.png" alt="Configure" width="15" height="15" /></div>
         <div class="tabFooterRight"><a jwcid="@DirectLink" listener="listener:showImmunologyConfigureDialog" href="javascript:semanticContext.showAll();">configure...</a></div>
      </div>    
   </div>
   
   <div id="thirdTabContainer" jwcid="@Any" style="ognl:'display:' + (selectedTab == 'thirdTab'? 'block':'none')">
	<ul jwcid="thirdTab@Sortable" orderedFacets="ognl:searchContext.thirdTabFacetOrder">
		<li class="boxes" jwcid="firstAuthors@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('firstAuthors')" 
		    label="ognl:selectedLabel" viewModeSwitchable="ognl:false" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="lastAuthors@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('lastAuthors')" 
		    label="ognl:selectedLabel" viewModeSwitchable="ognl:false" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="journals@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('journals')" 
		    label="ognl:selectedLabel" viewModeSwitchable="ognl:false" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>
		<li class="boxes" jwcid="years@FacetBox" facetLabelHit="ognl:searchContext.getFacetHitByCSSId('years')" 
		    label="ognl:selectedLabel" viewModeSwitchable="ognl:false" listener="listener:addSelectedLabel" viewModeSwitchedListener="listener:switchViewMode"/>		    
	</ul>
   <div class="tabFooter">
   		 <div class="tabFooterLeft"><img src="images/ico_configure.png" alt="Configure" width="15" height="15" /></div>
         <div class="tabFooterRight"><a jwcid="@DirectLink" listener="listener:showBibliographyConfigureDialog" href="javascript:semanticContext.showAll();">configure...</a></div>
   </div>    
   </div> 
   </span>
    -->
</div>

<div id="content">

	<t:loop source="displayGroup.displayedObjects" value="hitItem" index="hitIndex">
		<t:any element="div" class="prop:currentHitClass">
			<div class="hitAuthors">
				<t:loop source="hitItem.document.authors" value="authorItem" index="authorIndex">
					${authorItem.lastname} ${authorItem.forename} <t:if test="isNotLastAuthor()" >,</t:if>
				</t:loop>
			</div>
			<t:any class="prop:currentArticleTypeClass"><img height="28" width="22" border="0" src="images/empty.gif"/></t:any>
			<div class="hitTitleContainer">
				<div class="hitTitle">
					<t:if test="hitItem.document.review">
						<span  class="reviewMarker" title="Review">REVIEW</span>
					</t:if>
					<t:pagelink page="Article" context="hitItem.document.luceneId">
						<t:outputraw value="hitItem.kwicTitle"/>
					</t:pagelink>
				</div>
				<t:if test="hitItem.document.publication">
			   		<div class="hitJournal">
						<span class="publicationTitle">${hitItem.document.publication.title}</span>.  
						${hitItem.document.publication.date};
						${hitItem.document.publication.volume}
						${hitItem.document.publication.issue}
						(${hitItem.document.publication.issue}): ${hitItem.document.publication.pages}
			   		</div>
				</t:if>
		</div>		
		<div class="hitSummary">				
			<t:if test="hitItem.kwics" >
				<ul>
					<t:loop  source="hitItem.kwics" value="kwicItem">
						<li>
						  <t:outputraw value="kwicItem"/>
						</li>
					</t:loop>
				</ul>
				<t:parameter name="else">
					${hitItem.kwicAbstractText}
				</t:parameter>
			</t:if>
		</div>		  
	 </t:any>
	</t:loop>
  </div>	
  <div id="pager">
  	<t:actionlink t:id="previousBatchLink">&lt;</t:actionlink>
  	<t:loop source="displayGroup.batchIndexes()" value="pagerItem">
  		<t:if test="isCurrentPage">
  			<strong>${pagerItem}</strong>
  			<t:parameter name="else">
				<t:actionlink t:id="pagerLink" context="pagerItem">${pagerItem}</t:actionlink>  			
  			</t:parameter>
  		</t:if> 
  		&nbsp; 		 
  	</t:loop>
  	<t:actionlink t:id="nextBatchLink">&gt;</t:actionlink>
  </div>
</div>
	</body>
</html>